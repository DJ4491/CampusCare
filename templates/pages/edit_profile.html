{% load static %}
<div class="content">
  <section id="edit-profile-page" aria-label="Edit profile page">
    <div class="sheet" role="dialog" aria-modal="true">
      <div class="sheet-header">
        <button
          type="button"
          class="btn btn-secondary"
          onclick="loadpage('user_profile')"
          aria-label="Go back"
        >
          Back
        </button>
        <h2>Edit Profile</h2>
        <div style="width: 66px; height: 1px"></div>
      </div>

      <form id="editProfileForm" method="post" action="" autocomplete="on">
        {% csrf_token %}
        <div class="sheet-body">
          <div class="profile-row">
            <div class="editPfp">
              <img
                id="avatar"
                class="avatar"
                src="{{ request.user.pfp|default:'/static/images/profile.png' }}"
                alt="Profile image"
              />
              <img
                class="editButton"
                src="{% static 'images/edit-fill.svg' %}"
                alt=""
              />
              <input
                id="UploadImage"
                type="file"
                accept="image/jpeg, image/png, image/jpg"
              />
            </div>
            <div>
              <div style="font-weight: 700; color: #111827">
                {{ request.user.username }}
              </div>
              <div style="font-size: 12px; color: #6b7280">
                {{ request.user.email }}
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label for="username">Username</label>
              <input
                id="username"
                name="username"
                type="text"
                minlength="3"
                maxlength="150"
                required
                value="{{ request.user.username }}"
              />
            </div>
            <div class="form-field">
              <label for="email">Email</label>
              <input
                id="email"
                name="email"
                type="email"
                inputmode="email"
                required
                value="{{ request.user.email }}"
              />
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label for="aboutme">About me</label>
              <textarea
                id="aboutme"
                name="aboutme"
                maxlength="600"
                placeholder="Tell others about yourselfâ€¦"
              >
{{ request.user.aboutme }}</textarea
              >
              <p class="assistive-text">Max 600 characters.</p>
            </div>
          </div>
        </div>

        <div class="sheet-footer">
          <button
            type="button"
            class="btn btn-secondary"
            onclick="loadpage('user_profile')"
          >
            Cancel
          </button>
          <div style="display: flex; gap: 10px">
            <button type="submit" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </form>
    </div>
  </section>
</div>
